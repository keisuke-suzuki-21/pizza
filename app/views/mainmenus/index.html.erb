<% @page_title = "商品一覧" %>
<h1><%= @page_title %></h1>

<%= form_with url: search_path, method: :get, local: :true do |f| %>
  金額幅検索：<%= f.text_field :price %><%= "(指定金額から＋２００以内)" %>
  <%= f.select :search, options_for_select([["メインメニュー"], ["サイドメニュー"], ["商品一覧"]]) %>
  <%= f.submit "検索" %>
<% end %>

<% if @mainmenus.present? %>
  <table class="list">
    <thead>
      <tr>
        <th>メインメニュー名</th>
      </tr>
    </thead>
    <tbody>
      <% @mainmenus.each do |mainmenu| %>
        <tr>
          <% @product = Product.new %>
          <% @product.mainmenu = mainmenu %>
          <% @product.price = mainmenu.price %>
          <% @product.save %>
          <td><%= link_to mainmenu.name, product_path(@product) %></td>
        </tr>
        <tr>
          <td><%= mainmenu.price %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>メインメニュー情報がありません。</p>
<% end %>

<% if @sidemenus.present? %>
  <table class="list">
    <thead>
      <tr>
        <th>サイドメニュー名</th>
      </tr>
    </thead>
    <tbody>
      <% @sidemenus.each do |sidemenu| %>
        <tr>
          <td><%= link_to sidemenu.name, sidemenu %></td>
        </tr>
        <tr>
          <td><%= sidemenu.price %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>サイドメニュー情報がありません。</p>
<% end %>

<div class="toolbar"><%= link_to "<<Top", :root %></div>
